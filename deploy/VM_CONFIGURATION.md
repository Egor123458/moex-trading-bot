# üñ•Ô∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –º–∞—à–∏–Ω MOEX Trading

## üìã –û–±–∑–æ—Ä –≤—Å–µ—Ö –í–ú

### **1. moex_trading_app-member-0** (–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ) ‚úÖ
**–ù–∞ —ç—Ç–æ–π –í–ú –Ω—É–∂–Ω–æ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å —Ç–æ—Ä–≥–æ–≤–æ–≥–æ –±–æ—Ç–∞!**

- **–í–Ω–µ—à–Ω–∏–π IP:** `89.208.198.45`
- **–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π IP:** `10.0.0.131`
- **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:** `admin`
- **–ü–∞—Ä–æ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞:** `kT9mL2pQ`
- **SSH –∫–ª—é—á:** `moex-trading-vm-0x5ulVyq`
- **–•–æ—Å—Ç:** `moex-trading-app-member-0.mcs.local`
- **–ü—Ä–æ—Ü–µ—Å—Å–æ—Ä:** 2 vCPU
- **–û–ó–£:** 4096 –ú–ë (4 –ì–ë)
- **ID VM:** `c8b7d9ca-f5g7-5h8i-c747-01f657b895e8`

**–ö–æ–º–∞–Ω–¥–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:**
```powershell
ssh -i "C:\Users\Egor Galkin\Downloads\moex-trading-vm-0x5ulVyq.pem" admin@89.208.198.45
```

---

### **2. moex_trading_db-member-0** (–ë–î - Master)
**PostgreSQL Master —Å–µ—Ä–≤–µ—Ä**

- **–í–Ω–µ—à–Ω–∏–π IP:** `89.208.196.98`
- **–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π IP:** `10.0.0.129` ‚ö†Ô∏è **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç–æ—Ç IP –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∏–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è!**
- **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:** `admin`
- **–ü–∞—Ä–æ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞:** `Admin123456`
- **SSH –∫–ª—é—á:** `moex-trading-vm-0x5ulVyq`
- **–•–æ—Å—Ç:** `moex-trading-db-member-0.mcs.local`
- **–ü—Ä–æ—Ü–µ—Å—Å–æ—Ä:** 2 vCPU
- **–û–ó–£:** 8192 –ú–ë (8 –ì–ë)
- **ID VM:** `a30bea21-bfdb-4fe3-a769-02438ca7ceaf`

**–ö–æ–º–∞–Ω–¥–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:**
```powershell
ssh -i "C:\Users\Egor Galkin\Downloads\moex-trading-vm-0x5ulVyq.pem" admin@89.208.196.98
```

---

### **3. moex_trading_db-member-1** (–ë–î - Slave)
**PostgreSQL Slave —Å–µ—Ä–≤–µ—Ä**

- **–í–Ω–µ—à–Ω–∏–π IP:** `89.208.197.123`
- **–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π IP:** `10.0.0.130`
- **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:** `admin`
- **–ü–∞—Ä–æ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞:** `whafq4iB`
- **SSH –∫–ª—é—á:** `moex-trading-vm-0x5ulVyq`
- **–•–æ—Å—Ç:** `moex-trading-db-member-1.mcs.local`
- **–ü—Ä–æ—Ü–µ—Å—Å–æ—Ä:** 2 vCPU
- **–û–ó–£:** 8192 –ú–ë (8 –ì–ë)
- **ID VM:** `b7a6c8b9-e68a-4f6f-b646-90f656a784c7`

**–ö–æ–º–∞–Ω–¥–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:**
```powershell
ssh -i "C:\Users\Egor Galkin\Downloads\moex-trading-vm-0x5ulVyq.pem" admin@89.208.197.123
```

---

### **4. moex_trading_monitoring-member-0** (–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥)
**–í–ú –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏ –¥–∞—à–±–æ—Ä–¥–æ–≤**

- **–í–Ω–µ—à–Ω–∏–π IP:** `89.208.199.67`
- **–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π IP:** `10.0.0.132`
- **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:** `admin`
- **–ü–∞—Ä–æ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞:** `rX5nY8vZ`
- **SSH –∫–ª—é—á:** `moex-trading-vm-0x5ulVyq`
- **–•–æ—Å—Ç:** `moex-trading-monitoring-member-0.mcs.local`
- **–ü—Ä–æ—Ü–µ—Å—Å–æ—Ä:** 1 vCPU
- **–û–ó–£:** 2048 –ú–ë (2 –ì–ë)
- **ID VM:** `d9c8e0db-g6h8-6i9j-d848-02g758c906f9`

**–ö–æ–º–∞–Ω–¥–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:**
```powershell
ssh -i "C:\Users\Egor Galkin\Downloads\moex-trading-vm-0x5ulVyq.pem" admin@89.208.199.67
```

---

## üîë SSH –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

**–ü—É—Ç—å –∫ –∫–ª—é—á—É –Ω–∞ Windows:**
```
C:\Users\Egor Galkin\Downloads\moex-trading-vm-0x5ulVyq.pem
```

**–í—Å–µ –∫–æ–º–∞–Ω–¥—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:**

```powershell
# –í–ú –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–¥–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –±–æ—Ç–∞)
ssh -i "C:\Users\Egor Galkin\Downloads\moex-trading-vm-0x5ulVyq.pem" admin@89.208.198.45

# –í–ú –ë–î Master
ssh -i "C:\Users\Egor Galkin\Downloads\moex-trading-vm-0x5ulVyq.pem" admin@89.208.196.98

# –í–ú –ë–î Slave
ssh -i "C:\Users\Egor Galkin\Downloads\moex-trading-vm-0x5ulVyq.pem" admin@89.208.197.123

# –í–ú –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
ssh -i "C:\Users\Egor Galkin\Downloads\moex-trading-vm-0x5ulVyq.pem" admin@89.208.199.67
```

---

## üîê –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

**–î–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∫ –ë–î –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π IP Master:**

```
DATABASE_URL=postgresql://admin:Admin123456@10.0.0.129:5432/trading_bot
```

–ò–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ë–î:
```sql
CREATE USER trading_user WITH PASSWORD 'your_secure_password';
CREATE DATABASE trading_bot OWNER trading_user;
GRANT ALL PRIVILEGES ON DATABASE trading_bot TO trading_user;
```

---

## üì° –°–µ—Ç–µ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

**–í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —Å–µ—Ç—å:** `10.0.0.0/24`
**–®–ª—é–∑:** `10.0.0.1`

**Firewall –ø—Ä–∞–≤–∏–ª–∞:**
- ‚úÖ **SSH (port 22):** –û—Ç–∫—Ä—ã—Ç –¥–ª—è –≤—Å–µ—Ö –≤—Ö–æ–¥—è—â–∏—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
- ‚úÖ **Database (port 5432):** –û—Ç–∫—Ä—ã—Ç –≤–Ω—É—Ç—Ä–∏ —Å–µ—Ç–∏ (–º–µ–∂–¥—É –í–ú)
- ‚ö†Ô∏è **Application ports:** –ù–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

–ü–æ—Å–ª–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –í–ú –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–º–µ–Ω–∏ —Ö–æ—Å—Ç–∞
hostname
# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: moex-trading-app-member-0

# –ü—Ä–æ–≤–µ—Ä–∫–∞ IP –∞–¥—Ä–µ—Å–∞
ip addr show | grep "inet "
# –î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å: 10.0.0.131

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î
ping 10.0.0.129
# –î–æ–ª–∂–µ–Ω –æ—Ç–≤–µ—á–∞—Ç—å (—ç—Ç–æ IP Master –ë–î)

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–∞ –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç
ping 8.8.8.8
```

---

## üîÑ –ü–æ–≤—ã—à–µ–Ω–∏–µ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–π (sudo)

**–ù–∞ –í–ú –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:**
```bash
sudo -i
# –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–∞—Ä–æ–ª—å: kT9mL2pQ
```

**–ù–∞ –í–ú –ë–î (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–µ –ø—Ä–∞–≤–∞):**
```bash
sudo -i
# –ü–∞—Ä–æ–ª—å: Admin123456 (–Ω–∞ member-0) –∏–ª–∏ whafq4iB (–Ω–∞ member-1)
# ‚ö†Ô∏è –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –∫–æ–º–∞–Ω–¥—ã –º–æ–≥—É—Ç –±—ã—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω—ã
```

---

## üìù –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–î–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –±–æ—Ç–∞** –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –í–ú –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è: `89.208.198.45`
2. **–î–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î** –∏–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π IP: `10.0.0.129`
3. **–ü–∞—Ä–æ–ª–∏** —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –¥–ª—è –≤—Å–µ—Ö –í–ú, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–º–µ—Å—Ç–æ SSH –∫–ª—é—á–∞
4. **Firewall** –Ω–∞—Å—Ç—Ä–æ–µ–Ω, –ø–æ—Ä—Ç 22 –æ—Ç–∫—Ä—ã—Ç –¥–ª—è SSH
5. **–í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —Å–µ—Ç—å** –ø–æ–∑–≤–æ–ª—è–µ—Ç –í–ú –æ–±—â–∞—Ç—å—Å—è –º–µ–∂–¥—É —Å–æ–±–æ–π –±–µ–∑ –≤–Ω–µ—à–Ω–∏—Ö IP

